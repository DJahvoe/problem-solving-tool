<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>問題→原因→解決策 3ステップ図</title>
  <style>
    body{ margin:0; background:#fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
    .wrap{ max-width: 1200px; margin: 0 auto; padding: 10px; }
    svg{ width:100%; height:auto; display:block; }
    /* make small text readable on mobile */
    @media (max-width: 700px){
      .wrap{ padding: 6px; }
    }
  </style>
</head>
<body>
<div class="wrap">
<svg viewBox="0 0 1200 520" xmlns="http://www.w3.org/2000/svg" aria-label="問題→原因→解決策の3ステップ図">
  <defs>
    <style>
      .t1{ font: 700 22px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill:#222; }
      .t2{ font: 700 16px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill:#444; }
      .t3{ font: 700 14px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill:#222; }
      .t4{ font: 600 12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill:#444; }
      .mono{ font: 600 12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; fill:#333; }

      .stroke{ stroke:#8c95a1; stroke-width:2; fill:none; }
      .thin{ stroke:#a6afbb; stroke-width:1.5; fill:none; }
      .box{ stroke:#9aa3ad; stroke-width:2; rx:6; ry:6; }
      .shadow{ filter:url(#shadow); }
    </style>

    <filter id="shadow" x="-10%" y="-10%" width="130%" height="130%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity=".15"/>
    </filter>

    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L9,3 L0,6 Z" fill="#8c95a1"/>
    </marker>
  </defs>

  <!-- ===== Top step headers ===== -->
  <rect x="60"  y="20" width="320" height="50" class="box shadow" fill="#f5f000"/>
  <rect x="430" y="20" width="320" height="50" class="box shadow" fill="#e9c183"/>
  <rect x="800" y="20" width="340" height="50" class="box shadow" fill="#9fc9d6"/>

  <text x="220" y="53" text-anchor="middle" class="t1">問題の特定</text>
  <text x="590" y="53" text-anchor="middle" class="t1">原因の究明</text>
  <text x="970" y="53" text-anchor="middle" class="t1">解決策の立案</text>

  <!-- ===== Question labels (top row) ===== -->
  <text x="95"  y="110" class="t2">何が</text>
  <text x="85"  y="132" class="t2">問題か？</text>

  <text x="250" y="110" class="t2">どこが</text>
  <text x="240" y="132" class="t2">問題か？</text>

  <text x="420" y="110" class="t2">なぜ問題が</text>
  <text x="420" y="132" class="t2">起こるのか？</text>

  <text x="585" y="110" class="t2">本質的</text>
  <text x="585" y="132" class="t2">課題は？</text>

  <text x="740" y="110" class="t2">解決策の</text>
  <text x="735" y="132" class="t2">選択肢は？</text>

  <text x="905" y="110" class="t2">実行する</text>
  <text x="905" y="132" class="t2">施策は？</text>

  <text x="1045" y="110" class="t2">施策の目標と</text>
  <text x="1035" y="132" class="t2">具体的計画は？</text>

  <!-- ===== Vertical guide lines from questions ===== -->
  <path d="M110 140 V210" class="thin" marker-end="url(#arrow)"/>
  <path d="M265 140 V210" class="thin" marker-end="url(#arrow)"/>
  <path d="M450 140 V170" class="thin" marker-end="url(#arrow)"/>
  <path d="M610 140 V210" class="thin" marker-end="url(#arrow)"/>
  <path d="M760 140 V170" class="thin" marker-end="url(#arrow)"/>
  <path d="M930 140 V210" class="thin" marker-end="url(#arrow)"/>
  <path d="M1080 140 V210" class="thin" marker-end="url(#arrow)"/>

  <!-- ===== Step 1 boxes ===== -->
  <rect x="70" y="230" width="90" height="50" class="box shadow" fill="#e6d0b7"/>
  <text x="115" y="260" text-anchor="middle" class="t3">あるべき</text>
  <text x="115" y="278" text-anchor="middle" class="t3">姿</text>

  <rect x="90" y="305" width="110" height="55" class="box shadow" fill="#f5f000"/>
  <text x="145" y="338" text-anchor="middle" class="t1" font-size="18">問題</text>

  <rect x="70" y="385" width="110" height="55" class="box shadow" fill="#e9edf0"/>
  <text x="125" y="415" text-anchor="middle" class="t3">現状</text>
  <text x="125" y="435" text-anchor="middle" class="t4">（現象）</text>

  <!-- Problem location stack (right of step1) -->
  <rect x="215" y="230" width="110" height="50" class="box shadow" fill="#f5f000"/>
  <text x="270" y="260" text-anchor="middle" class="t3">問題の</text>
  <text x="270" y="278" text-anchor="middle" class="t3">所在</text>

  <rect x="215" y="300" width="110" height="50" class="box shadow" fill="#e6d0b7"/>
  <text x="270" y="330" text-anchor="middle" class="t3">問題の</text>
  <text x="270" y="348" text-anchor="middle" class="t3">所在</text>

  <rect x="215" y="370" width="110" height="50" class="box shadow" fill="#e6d0b7"/>
  <text x="270" y="400" text-anchor="middle" class="t3">問題の</text>
  <text x="270" y="418" text-anchor="middle" class="t3">所在</text>

  <!-- Step1 connectors -->
  <path d="M125 280 V305" class="stroke" marker-end="url(#arrow)"/>
  <path d="M125 360 V385" class="stroke" marker-end="url(#arrow)"/>
  <path d="M200 333 H215" class="stroke" marker-end="url(#arrow)"/>

  <!-- ===== Step 2 cause clusters ===== -->
  <!-- left causes (3 groups) -->
  <!-- group A -->
  <rect x="380" y="190" width="90" height="36" class="box shadow" fill="#e6d0b7"/>
  <text x="425" y="212" text-anchor="middle" class="t3">原因</text>

  <rect x="500" y="175" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="196" text-anchor="middle" class="t3">原因</text>
  <rect x="500" y="215" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="236" text-anchor="middle" class="t3">原因</text>
  <rect x="500" y="255" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="276" text-anchor="middle" class="t3">原因</text>

  <!-- group B -->
  <rect x="380" y="275" width="90" height="36" class="box shadow" fill="#e6d0b7"/>
  <text x="425" y="297" text-anchor="middle" class="t3">原因</text>

  <rect x="500" y="300" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="321" text-anchor="middle" class="t3">原因</text>
  <rect x="500" y="340" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="361" text-anchor="middle" class="t3">原因</text>
  <rect x="500" y="380" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="401" text-anchor="middle" class="t3">原因</text>

  <!-- group C -->
  <rect x="380" y="365" width="90" height="36" class="box shadow" fill="#e6d0b7"/>
  <text x="425" y="387" text-anchor="middle" class="t3">原因</text>

  <rect x="500" y="420" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="441" text-anchor="middle" class="t3">原因</text>
  <rect x="500" y="460" width="80" height="34" class="box shadow" fill="#e6d0b7"/>
  <text x="540" y="481" text-anchor="middle" class="t3">原因</text>

  <!-- Step2 core issue (課題(真因)) -->
  <rect x="610" y="305" width="95" height="55" class="box shadow" fill="#e9c183"/>
  <text x="657" y="334" text-anchor="middle" class="t3">課題</text>
  <text x="657" y="354" text-anchor="middle" class="t4">（真因）</text>

  <!-- Step2 connectors -->
  <!-- from left causes to their sub-causes -->
  <path d="M470 208 H500" class="stroke" marker-end="url(#arrow)"/>
  <path d="M470 293 H500" class="stroke" marker-end="url(#arrow)"/>
  <path d="M470 383 H500" class="stroke" marker-end="url(#arrow)"/>

  <!-- merge to core issue -->
  <path d="M580 235 H610" class="stroke" marker-end="url(#arrow)"/>
  <path d="M580 350 H610" class="stroke" marker-end="url(#arrow)"/>
  <path d="M580 470 H610" class="stroke" marker-end="url(#arrow)"/>

  <!-- ===== Step 3 solutions ===== -->
  <!-- solution groups -->
  <rect x="740" y="200" width="90" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="785" y="222" text-anchor="middle" class="t3">解決策</text>

  <rect x="850" y="175" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="197" text-anchor="middle" class="t3">解決策</text>
  <rect x="850" y="215" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="237" text-anchor="middle" class="t3">解決策</text>
  <rect x="850" y="255" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="277" text-anchor="middle" class="t3">解決策</text>

  <rect x="740" y="305" width="90" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="785" y="327" text-anchor="middle" class="t3">解決策</text>

  <rect x="850" y="300" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="322" text-anchor="middle" class="t3">解決策</text>
  <rect x="850" y="340" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="362" text-anchor="middle" class="t3">解決策</text>
  <rect x="850" y="380" width="92" height="36" class="box shadow" fill="#cfe0e3"/>
  <text x="896" y="402" text-anchor="middle" class="t3">解決策</text>

  <rect x="970" y="305" width="90" height="55" class="box shadow" fill="#9fc9d6"/>
  <text x="1015" y="338" text-anchor="middle" class="t3">施策</text>

  <!-- Right side: goal & plan -->
  <rect x="1080" y="240" width="85" height="55" class="box shadow" fill="#e9edf0"/>
  <text x="1122" y="272" text-anchor="middle" class="t3">目標</text>

  <rect x="1175" y="230" width="85" height="36" class="box shadow" fill="#e9edf0"/>
  <text x="1217" y="252" text-anchor="middle" class="t3">期限</text>
  <rect x="1175" y="270" width="85" height="36" class="box shadow" fill="#e9edf0"/>
  <text x="1217" y="292" text-anchor="middle" class="t3">数値</text>

  <rect x="1080" y="330" width="85" height="55" class="box shadow" fill="#e9edf0"/>
  <text x="1122" y="362" text-anchor="middle" class="t3">計画</text>

  <rect x="1175" y="320" width="95" height="34" class="box shadow" fill="#e9edf0"/>
  <text x="1222" y="341" text-anchor="middle" class="t3">スケジュール</text>
  <rect x="1175" y="360" width="95" height="34" class="box shadow" fill="#e9edf0"/>
  <text x="1222" y="381" text-anchor="middle" class="t3">体制</text>
  <rect x="1175" y="400" width="95" height="34" class="box shadow" fill="#e9edf0"/>
  <text x="1222" y="421" text-anchor="middle" class="t3">予算</text>
  <rect x="1175" y="440" width="95" height="34" class="box shadow" fill="#e9edf0"/>
  <text x="1222" y="461" text-anchor="middle" class="t3">リスク</text>

  <!-- Step3 connectors -->
  <path d="M705 332 H740" class="stroke" marker-end="url(#arrow)"/> <!-- from 課題 -->
  <path d="M830 218 H850" class="stroke" marker-end="url(#arrow)"/>
  <path d="M830 323 H850" class="stroke" marker-end="url(#arrow)"/>
  <path d="M942 335 H970" class="stroke" marker-end="url(#arrow)"/>
  <path d="M1060 332 H1080" class="stroke" marker-end="url(#arrow)"/>

  <!-- goal/plan branching -->
  <path d="M1165 268 H1175" class="stroke" marker-end="url(#arrow)"/>
  <path d="M1165 358 H1175" class="stroke" marker-end="url(#arrow)"/>

</svg>
</div>
</body>
</html>
